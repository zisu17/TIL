# 관계 데이터 연산

## 관계 해석
처리를 원하는 데이터가 무엇인지만 기술하는 비절차 언어 (what에 집중)

## 관계 대수
원하는 결과를 얻기 위해 데이터의 처리 과정을 순서대로 기술하는 절차 언어 (what뿐만 아니라 how에도 집중)  
### 1. 관계 대수의 필수 연산자

- Selection  
릴레이션에서 조건에 만족하는 투플들의 부분 집합 생성

- Projection  
릴레이션에서 주어진 속성들의 값으로 구성된 투플들의 부분 집합 생성 (중복된 값 제거)  
selection의 연산 결과 릴레이션에는 중복 투플이 존재할 수 없지만 projection의 연산 결과 릴레이션에는 중복된 투플이 존재할 수 있음
(엄밀하게 말하면 중복이 있는 릴레이션은 릴레이션이 아님)  
bag - 중복을 허용하는 집합  
projection 중복을 제거하는 것은 sort 연산보다 오래 걸려서 중복 제거를 안 하는 경우도 있음  

- 집합 연산자  
릴레이션이 투플들의 잡합이므로 기존의 집합 연산이 릴레이션에 적용됨  
합집합, 교집합, 차집합 연산자  
집합 연산자의 입력으로 사용되는 두 릴레이션은 합병 가능 (union compatible) 조건을 만족해야 함

- Cartesian Product  
두 릴레이션 R과 S의 카티션 곱 R x S는 릴레이션 R에 속한 각 투플과 릴레이션 S에 속한 각 투플을 모두 연결해 만들어진 새로운 투플로 결과 릴레이션을 구성함

### 2. 관계 대수의 완전성
- Selection, Projection, 합집합, 차집합, Cartesian Product는 관계 대수의 필수 연산자임
- 다른 관계 연산자들은 필수 연산자를 두 개 이상 조합하여 표현 가능
- 임의의 질의어가 적어도 필수 관계 대수 연산자만큼의 표현력을 갖고 있으면 관계적으로 완전(relationally complete)하다고 말함

### 3. Join 연산자
두 개의 릴레이션에서 연관된 투플들을 결합하는 연산자  
관계 데이터베이스에서 두 개 이상의 릴레이션 관계를 다룰 때 매우 중요  
세타 조인(theta join), 동등 조인(equi join), 자연 조인(natural join), 외부 조인(outer join), 세미 조인(semi join) 등이 있음

- 세타 조인(theta join)  
조인에 참여한 두 릴레이션의 속성 값을 비교하여 조건을 만족하는 투플만 반환  
일반 비교 연산자 6가지 중 하나 사용 가능

- 동등 조인(equi join)  
세타 조인에서 = 연산자를 사용한 조인

- 자연 조인(natural join)  
동등 조인에서 조인에 참여한 속성이 두 번 나오지 않도록 두 번째 속성을 제거한 결과 반환

- 외부 조인(outer join)  
자연 조인 시에 조인에 실패한 투플을 모두 보여주되 값이 없는 대응 속성에는 NULL 값을 채워서 반환

- 세미 조인(semi join)
하나의 릴레이션의 조인 속성으로만 구성된 릴레이션을 다른 하나의 릴레이션에 자연 조인한 결과 반환

### 4. Division 연산자
X⊂Y(부분집합)인 두 개의 릴레이션 R(X)와 S(Y)가 있을 때, R의 속성이 S의 속성값을 모두 가진 튜플에서 S가 가진 속성을 제외한 속성만을 구하는 연산